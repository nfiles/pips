<form [formGroup]="form">
    <div class="form-group">
        <label for="expression">Expression</label>
        <input
            type="text"
            id="expression"
            formControlName="expression"
            class="form-control"
            autofocus
            required
            placeholder="d20 + 5"
        />
    </div>

    <div class="form-group form-row align-items-center">
        <div class="col">
            <div class="btn-group">
                <input
                    class="btn btn-primary"
                    type="submit"
                    value="Roll"
                    [disabled]="form.invalid"
                    (click)="roll(form.value.expression)"
                />
                <input
                    class="btn btn-secondary"
                    type="button"
                    value="Plot"
                    [disabled]="form.invalid"
                    (click)="addExpression(form.value.expression)"
                />
            </div>
        </div>

        <label *ngIf="result" class="col-xs-2"> Roll: {{ result }} </label>
    </div>
</form>

<div class="card" *ngIf="expressions?.length > 0">
    <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
            Expressions
            <button class="btn btn-danger btn-sm" (click)="clear()">
                Clear
            </button>
        </div>
    </div>
    <ul class="list-group list-group-flush">
        <li
            *ngFor="let expression of expressions"
            class="list-group-item d-flex justify-content-between align-items-center"
        >
            {{ expression }}

            <button
                class="btn btn-outline-danger btn-sm btn-group"
                (click)="remove(expression)"
            >
                <i class="fas fa-times"></i>
            </button>
        </li>
    </ul>
</div>
